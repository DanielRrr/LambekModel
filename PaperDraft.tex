\documentclass[a4paper]{article}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{bussproofs}
\usepackage{mathtools}
\usepackage{verbatim}
\usepackage{dsfont}
\usepackage{mathabx}
\usepackage[all, 2cell]{xy}
\usepackage[all]{xy}
\usepackage{wasysym}
\usepackage{rotating}
\usepackage{geometry}
\usepackage{trfsigns}
\usepackage{cmll}
\usepackage{authblk}

\theoremstyle{defin}
\newtheorem{defin}{Definition}

\theoremstyle{theorem}
\newtheorem{theorem}{Theorem}

\theoremstyle{prop}
\newtheorem{prop}{Proposition}

\theoremstyle{lemma}
\newtheorem{lemma}{Lemma}

\theoremstyle{ex}
\newtheorem{ex}{Example}

\theoremstyle{col}
\newtheorem{col}{Corollary}
\usepackage{listings} 		% for source code
\date{}
\author[1,2]{Danya Rogozin}
\affil[1]{Lomonosov Moscow State University}
\affil[2]{Serokell O\"{U}}
\title{Models of Lambek calculus with subexponentials}

\begin{document}

\maketitle

\begin{abstract}
\end{abstract}

\section{Introduction}

Categorial grammars were initially introduced by Ajdukiewicz and Bar-Hillel \cite{Ajd} \cite{Bar}.
In the 1950s, Lambek proposed the way of proof-theoretical consideration of such grammars \cite{Lambek}. In this approach, language is logic and parsing is derivation via inference rules. Let us consider a quite simple example. One needs to parse this quote from the poem by Oscar Wilde called "Impression du Matin" \cite{Wilde}:

\begin{center}
The Thames nocture of blue and gold \\
Changed to Harmony in grey
\end{center}

The first is to assign the correpsonding syntactic caterogies to the words as follows:

\vspace{\baselineskip}

$ $ \:\:\:\: The \:\:\:\: Thames nocturne \:\:\:\:\:\: of \:\:\:\:\:\:\:\:\:\: blue \:\:\:\:\:\:\: and \:\:\:\:\:\:\:\: gold

$(np / n) / np$ \:\:\:\:\: $np$ \:\:\:\:\:\:\:\:\: $n$ \:\:\:\:\:\: $np \backslash (np / ad)$ \: $ad$ \:\: $ad / (ad \backslash ad)$ \: $ad$

\vspace{\baselineskip}

$ $ \: Changed \:\:\:\: to \:\:\:\: Harmony \:\:\:\:\:\:\:\:\:\: in \:\:\:\:\:\:\:\:\:\:\: grey

$ $ \: $np \backslash (s / p)$ \:\: $p / np$ \:\:\:\:\:\: $np$ \:\:\:\:\:\:\:\: $np \backslash (np / ad)$ \:\: $ad$ \:\:\:\:\:\: $\rightarrow s$

\vspace{\baselineskip}

Here the basic reduction rules are:

\begin{itemize}
  \item $A, A \backslash B \to B$
  \item $B / A, A \to B$
\end{itemize}

Here we assign the special syntactic categories to the words of this sentence. $np$ denotes "noun phrase", $n$ -- noun, $ad$ -- adjective, $p$ -- phrase, $s$ -- sentence. This sequent denotes that this Oscar Wilde's quote is a well-formed sentence.
The verb "changed" has type "$np$ under ($s$ over $p$)". In other words, one needs to apply some noun phrase ("The Thames
nocturne of blue and gold") from the left, apply some phrase from the right ("Changed to Harmony in grey") and obtain
sentence after that. The other syntactic categories might be considered similarly.

The general case of such derivations in categorial grammars is axiomatised via Lambek calculus \cite{Lambek}, non-commutative
linear logic.

\begin{prooftree}
\AxiomC{$ $}
\RightLabel{\scriptsize{ax}}
\UnaryInfC{$A \rightarrow A$}
\end{prooftree}

\begin{minipage}{0.5\textwidth}
\begin{flushleft}
      \begin{prooftree}
    \AxiomC{$\Gamma \rightarrow A$}
    \AxiomC{$\Delta, B, \Theta \rightarrow C$}
    \RightLabel{$\backslash \rightarrow$}
    \BinaryInfC{$\Delta, \Gamma, A \backslash B, \Theta \rightarrow C$}
  \end{prooftree}

  \begin{prooftree}
    \AxiomC{$\Gamma \rightarrow A$}
    \AxiomC{$\Delta, B, \Theta \rightarrow C$}
    \RightLabel{$/ \rightarrow$}
    \BinaryInfC{$\Delta, B / A, \Gamma, \Theta \rightarrow C$}
  \end{prooftree}

  \begin{prooftree}
    \AxiomC{$\Gamma, A, B, \Delta \rightarrow C$}
    \RightLabel{$\bullet \rightarrow$}
    \UnaryInfC{$\Gamma, A \bullet B, \Delta \rightarrow C$}
  \end{prooftree}
\end{flushleft}
\end{minipage}\hfill
\begin{minipage}{0.5\textwidth}
\begin{flushright}
  \begin{prooftree}
    \AxiomC{$A, \Pi \rightarrow B$}
    \RightLabel{$\rightarrow \backslash, \Pi \text{ is non-empty}$}
    \UnaryInfC{$\Pi \rightarrow A \backslash B$}
  \end{prooftree}

  \begin{prooftree}
    \AxiomC{$\Pi, A \rightarrow B$}
    \RightLabel{$\rightarrow /, \Pi \text{ is non-empty}$}
    \UnaryInfC{$\Pi \rightarrow B / A$}
  \end{prooftree}

  \begin{prooftree}
    \AxiomC{$\Gamma \rightarrow A$}
    \AxiomC{$\Delta \rightarrow B$}
    \RightLabel{$\rightarrow \bullet$}
    \BinaryInfC{$\Gamma, \Delta \rightarrow A \bullet B$}
  \end{prooftree}
\end{flushright}
\end{minipage}

\begin{prooftree}
  \AxiomC{$\Gamma \rightarrow A$}
  \AxiomC{$\Pi, A, \Delta \rightarrow B$}
  \RightLabel{${\bf cut}$}
  \BinaryInfC{$\Gamma, \Pi, \Delta \rightarrow B$}
\end{prooftree}

Note that, non-commutativity is no coincidence. We cannot assume that a sentence remains well-formed regardless
of the word order.

As you could see, non-commutativity yields two implications: the left one (or, left division) and the right one (or, right division). Moreover, the right introduction rules for these divisions have the special restriction that claims non-emptiness
of the sequence $\Pi$ in the antecedent. This restriction denotes that we have no empty word that makes no sense
linguistically. On the other hand, we can avoid this restriction. This calculus is called $L^{*}$. Note that, the empty word
might be introduced explicilty via the constant ${\bf 1}$. The logic $L_{\bf 1}$ is a conservative extension of $L^{*}$ with
the following inference rules:

\vspace{\baselineskip}

\begin{minipage}{0.5\textwidth}
\begin{flushleft}

  \begin{prooftree}
    \AxiomC{$\Gamma, \Delta \rightarrow A$}
    \RightLabel{${\bf 1} \rightarrow$}
    \UnaryInfC{$\Gamma, {\bf 1}, \Delta \rightarrow A$}
  \end{prooftree}

  \end{flushleft}
\end{minipage}\hfill
\begin{minipage}{0.5\textwidth}
\begin{flushright}

  \begin{prooftree}
    \AxiomC{$ $}
    \RightLabel{$\rightarrow {\bf 1}$}
    \UnaryInfC{$\rightarrow {\bf 1}$}
  \end{prooftree}


\end{flushright}
\end{minipage}

\vspace{\baselineskip}

One may extend Lambek calculus with so-called additive conjunction and disjunction. The inference rules for these connections
are quite similar to inference rules for conjunction and disjunction in intuitionistic sequent calculus. In $L$-models,
additive connections are intersection and union of languages:

\vspace{\baselineskip}

\begin{minipage}{0.5\textwidth}
\begin{flushleft}
    \begin{prooftree}
      \AxiomC{$\Gamma, A_i, \Delta \rightarrow B$}
      \RightLabel{$\land \rightarrow, i = 1,2$}
      \UnaryInfC{$\Gamma, A_1 \land A_2, \Delta \rightarrow B$}
    \end{prooftree}

    \begin{prooftree}
      \AxiomC{$\Gamma, A, \Delta \rightarrow C$}
      \AxiomC{$\Gamma, B, \Delta \rightarrow C$}
      \RightLabel{$\vee \rightarrow$}
      \BinaryInfC{$\Gamma, A \vee B, \Delta \rightarrow C$}
    \end{prooftree}
  \end{flushleft}
\end{minipage}\hfill
\begin{minipage}{0.5\textwidth}
\begin{flushright}
  \begin{prooftree}
    \AxiomC{$\Gamma \rightarrow A$}
    \AxiomC{$\Gamma \rightarrow B$}
    \RightLabel{$\rightarrow \land$}
    \BinaryInfC{$\Gamma \rightarrow A \land B$}
  \end{prooftree}

  \begin{prooftree}
    \AxiomC{$\Gamma \rightarrow A_i$}
    \RightLabel{$\rightarrow \vee, i = 1,2$}
    \UnaryInfC{$\Gamma \rightarrow A_1 \vee A_2$}
  \end{prooftree}
\end{flushright}
\end{minipage}

\vspace{\baselineskip}

\section{The Lambek Calculus with subexponentials}

Let us consider the following phrase as an example.

\begin{center}
  The young lady whom Childe Harold met before his pilgrimage
\end{center}

There is "the young lady" in the middle of this phrase. We are incapable of processing such cases in the core Lambek
calculus. That is, there is no ability to extract from the middle. "Met" is a phrasal verb. Whom did Childe Halord meet? He
met the young lady.

  \vspace{\baselineskip}

\begin{center}
The young lady whom$_i$ Childe Harold met $e_i$ before his pilgrimage
\end{center}

  \vspace{\baselineskip}

For this purpose, we introduce the exponential modality with exchange rule. The left one rule is a
dereliction, which is similar to the left $\Box$ introduction in modal logic $T$.

  \vspace{\baselineskip}

\begin{minipage}{0.5\textwidth}
\begin{flushleft}
  \begin{prooftree}
    \AxiomC{$\Gamma, A, \Delta \rightarrow B$}
    \RightLabel{$(! \to)$}
    \UnaryInfC{$\Gamma, ! A, \Delta \rightarrow B$}
  \end{prooftree}
\end{flushleft}
\end{minipage}\hfill
\begin{minipage}{0.5\textwidth}
\begin{flushright}
  \begin{prooftree}
    \AxiomC{$\Gamma, ! A, \Delta, \Theta \rightarrow C$}
    \RightLabel{${\bf ex}$}
    \UnaryInfC{$\Gamma, \Delta, ! A, \Theta \rightarrow C$}
  \end{prooftree}
\end{flushright}
\end{minipage}

  \vspace{\baselineskip}

The another one phrase is related to so-called parasitic extraction:

\begin{center}
The letter that Young Werther sent to Charlotte without reading
\end{center}

In addition to medial extraction, we used "the letter" twice in this phrase. Thus, one need to multiply our linguistical resources in a restricted way.

\begin{center}
The letter that$_i$ Young Werther sent $e_i$ to Charlotte without reading $e_i$
\end{center}

Subexponential modality with non-local contraction allows one to do such operations:

  \vspace{\baselineskip}

\begin{minipage}{0.5\textwidth}
\begin{flushleft}
  \begin{prooftree}
    \AxiomC{$\Gamma, ! A, \Delta, ! A, \Theta \rightarrow B$}
    \RightLabel{${\bf contr}$}
    \UnaryInfC{$\Gamma, \Delta, ! A, \Theta \rightarrow B$}
  \end{prooftree}
\end{flushleft}
\end{minipage}\hfill
\begin{minipage}{0.5\textwidth}
\begin{flushright}
  \begin{prooftree}
    \AxiomC{$\Gamma, ! A, \Delta, ! A, \Theta \rightarrow B$}
    \RightLabel{${\bf contr}$}
    \UnaryInfC{$\Gamma, ! A, \Delta, \Theta \rightarrow B$}
  \end{prooftree}
\end{flushright}
\end{minipage}

  \vspace{\baselineskip}

Note that, the usual form of contraction yields the cut inadmissibility in contrast to non-local contraction, which generalises the contraction.

  \vspace{\baselineskip}

It is useful to have many modalities and distinguish them in accordance with their abilities. In other words, we are going to
consider the polymodal case. Let us introduce a subexponential signature, which is a preorder with upwardly closed subsets,
where $W$ denotes weakening, etc. Note that, a subexponential signature might have any cardinality you prefer: finite or
infinite.

\begin{defin} A subexponential signature is an ordered quintuple:

  $\Sigma = \langle \mathcal{I}, \preceq, \mathcal{W}, \mathcal{C}, \mathcal{E} \rangle$,
where $\langle \mathcal{I}, \preceq \rangle$ is a preorder.
$\mathcal{W}, \mathcal{C}, \mathcal{E}$ are upwardly closed subsets of $I$ and $\mathcal{W} \cap \mathcal{C} \subseteq \mathcal{E}$.
\end{defin}

The last condition claims that if there are weakening and contraction, then one may also exchange as follows.

\begin{prooftree}
  \AxiomC{$\Gamma, ! A, \Delta, \Theta \rightarrow B$}
  \RightLabel{${\bf weak}$}
  \UnaryInfC{$\Gamma, ! A, \Delta, ! A, \Theta \rightarrow B$}
  \RightLabel{${\bf ncontr}$}
  \UnaryInfC{$\Gamma, \Delta, ! A, \Theta \rightarrow B$}
\end{prooftree}

\begin{defin}
$ $

  $\mathcal{F}_{\Sigma} ::= Tp \: | \: (\mathcal{F}_{\Sigma} / \mathcal{F}_{\Sigma}) \: | \: (\mathcal{F}_{\Sigma} \backslash
  \mathcal{F}_{\Sigma}) \: | \: (\mathcal{F}_{\Sigma} \bullet \mathcal{F}_{\Sigma}) \: | \: (\mathcal{F}_{\Sigma} \lor \mathcal{F}_{\Sigma}) \: | (\mathcal{F}_{\Sigma} \land \mathcal{F}_{\Sigma}) \: | ({!_s \mathcal{F}_{\Sigma}})_{s \in
  \Sigma} $
\end{defin}

Let us introduce inference polymodal inference rules for non-commutative subexponentials. One can apply substructural
rules only if there is the relevant index on the current modality. Also, the right introduction rule is a sort of the
generalised right $\Box$-introduction a la $K4$. Modality $!_s$ might be introduced on the right only if its index is less than any other subexponential index from the antecedent. That is, if we have already used stronger modality, then we may
apply the weaker one.

\begin{defin} Noncommutative linear logic with subexponentials ($SMALC_{\Sigma}$), where $\Sigma$ is a subexponential signature.

    \vspace{\baselineskip}

\begin{minipage}{0.5\textwidth}
  \begin{flushleft}
    \begin{prooftree}
    \AxiomC{$\Gamma, A, \Delta \rightarrow C$}
    \RightLabel{$! \rightarrow$}
    \UnaryInfC{$\Gamma, !^{s} A, \Delta \rightarrow C$}
    \end{prooftree}

    \begin{prooftree}
    \AxiomC{$\Gamma, !^{s} A, \Delta, !^{s} A, \Theta \rightarrow B$}
    \RightLabel{${\bf ncontr}_1, s \in C$}
    \UnaryInfC{$\Gamma, !^{s} A, \Delta, \Theta \rightarrow B$}
    \end{prooftree}

    \begin{prooftree}
    \AxiomC{$\Gamma, \Delta, !^{s} A, \Theta \rightarrow B$}
    \RightLabel{${\bf ex}_1, s \in E$}
    \UnaryInfC{$\Gamma, !^{s} A, \Delta, \Theta \rightarrow A$}
    \end{prooftree}

  \end{flushleft}
\end{minipage}
\begin{minipage}{0.5\textwidth}
  \begin{flushright}
    \begin{prooftree}
    \AxiomC{$!^{s_1} A_1, \dots, !^{s_n} A_n \rightarrow A$}
    \RightLabel{$\rightarrow !, \forall j, s_j \succeq s$}
    \UnaryInfC{$!^{s_1} A_1, \dots, !^{s_n} A_n \rightarrow !^{s} A$}
    \end{prooftree}

    \begin{prooftree}
      \AxiomC{$\Gamma, !^{s} A, \Delta, !^{s} A, \Theta \rightarrow B$}
      \RightLabel{${\bf ncontr}_2, s \in C$}
      \UnaryInfC{$\Gamma, \Delta, !^{s} A, \Theta \rightarrow B$}
    \end{prooftree}

    \begin{prooftree}
      \AxiomC{$\Gamma, !^{s} A, \Delta, \Theta \rightarrow B$}
      \RightLabel{${\bf ex}_2, s \in E$}
      \UnaryInfC{$\Gamma, \Delta, !^{s} A, \Theta \rightarrow A$}
    \end{prooftree}
  \end{flushright}
\end{minipage}

\begin{prooftree}
\AxiomC{$\Gamma, \Delta \rightarrow B$}
\RightLabel{${\bf weak}_!, s \in C$}
\UnaryInfC{$\Gamma, !^{s} A, \Delta \rightarrow B$}
\end{prooftree}

\end{defin}

  \vspace{\baselineskip}

Let us consider the current proof-theoretical and algorithmic results on Lambek calculus with additives and subexponentials.
The first of all, the cut rule is admissible. Generally, this calculus is undecidable, but the fragment without non-local
contraction is PSPACE-complete. These results were obtained by Kanovich, Kuznetsov, Nigam, and Scedrov \cite{Sc}.

\begin{theorem}
$ $

  \begin{enumerate}
    \item Cut-rule is admissable;
    \item $\text{SMALC}_{\Sigma}$ is undecidable, if $C \neq \emptyset$;
    \item If $C$ is empty, then the decidability problem of $\text{SMALC}_{\Sigma}$ belongs to PSPACE.
  \end{enumerate}
\end{theorem}

\section{Quantale background}

Now we introduce a reader to quantales quite briefly. For more details, one may take a look at these books \cite{Quantale18}
\cite{Rosenthal}. The initial idea of considering quantales in linear logic belongs to Yetter \cite{Yetter}.

\begin{defin} Quantale
$ $

  A quantale is a triple $\mathcal{Q} = \langle A, \bigvee, \cdot \rangle$, where $\langle A, \bigvee \rangle$
is a complete join semilattice and $\langle A, \cdot \rangle$ is a semigroup such that for each indexing set $I$:

\begin{enumerate}
  \item $a \cdot \bigvee \limits_{i \in I} b_i = \bigvee \limits_{i \in I} (a \cdot b_i)$;
  \item $\bigvee \limits_{i \in I} a_i \cdot b = \bigvee \limits_{i \in I} (a_i \cdot b)$
\end{enumerate}

A quanlate is called unital, if $\langle A, \cdot \rangle$ is a monoid.
\end{defin}

\begin{itemize}
\item Let $A$ be a semigroup (monoid), then $\langle \mathcal{P}(A), \cdot, \subseteq \rangle$
is a free (unital) quantale.
\item Let $R$ be a ring and $Sub(R)$ be a set of additive subgroups of $R$.
We define $A \cdot B$ as an additive subgroup generated by finite sums of products $ab$ and order is defined by inclusion.
\item Any locale is a quantale with $\cdot = \wedge$.
\end{itemize}

It is easy to see, that any (unital) quantale is a residual (monoid) semigroup. We define divisions as follows:

\begin{enumerate}
\item $a \backslash b = \bigvee \{ c \: | \: a \cdot c \leq b \}$
\item $b / a = \bigvee \{ c \: | \: c \cdot a \leq b \}$
\end{enumerate}

Residuality property for those divisions holds straightforwardly:

\begin{center}
  $b \leq a \backslash c \Leftrightarrow a \cdot b \leq c \Leftrightarrow a \leq b / c$
\end{center}

\begin{defin}

  Let $\mathcal{Q}_1$, $\mathcal{Q}_2$ be quantales. A quantale homomorphism is a map $f : \mathcal{Q}_1 \to \mathcal{Q}_2$, such that:

  \begin{enumerate}
    \item for all $a,b \in \mathcal{Q}_1$, $f(a \cdot b) = f(a) \cdot f(b)$;
    \item for all indexing set $I$, $f(\bigvee \limits_{i \in I} a_i) = \bigvee \limits_{i \in I} f(a_i)$.
  \end{enumerate}

  If $\mathcal{Q}_1$, $\mathcal{Q}_2$ are unital quantales, then a unital homomorphism if a quantale homomorphism such that $f(\varepsilon) = \varepsilon$.
\end{defin}

\begin{defin}
$ $

  Let $\mathcal{Q} = \langle A, \bigvee, \cdot \rangle$ be a quantale. $\mathcal{S} \subseteq \mathcal{Q}$ is said to be a subquantale, if $\mathcal{S}$ is closed under multiplication and joins.
\end{defin}

There occurs the following simple statement:

\begin{prop}
  $ $

Let $\mathcal{Q}_1$, $\mathcal{Q}_2$ be quantales and $\mathcal{S} \subseteq \mathcal{Q}_1$ is a subquantale of
$\mathcal{Q}_1$.

Then, if $f : \mathcal{Q}_1 \to \mathcal{Q}_2$ is a quantale homomorphism, then $f(\mathcal{S}) \subseteq \mathcal{Q}_2$ is a subquantale of $\mathcal{Q}_2$.
\end{prop}

\begin{proof}
$ $

  Follows from the same statements for semigroup and semilattice homomorphisms.
\end{proof}

\begin{defin}
$ $

  Let $\mathcal{Q} = \langle A, \bigvee, \cdot \rangle$ be a quantale.
  The centre of a quantale is the subquantale $\mathcal{Z}(\mathcal{Q}) = \{ a \in A \: | \: \forall b \in A, a \cdot b = b \cdot a \}$
\end{defin}

We introduce the notion of quantic conucleus, an interior operation on quantale, which is a lax homomorphism with respect to semigroup multiplication. For unital quantales, this conucleus preserves a neutral.

\begin{defin}
$ $

  An open modality (or quantic conucleus) on quantale $\mathcal{Q}$ is a map $I : \mathcal{Q} \to \mathcal{Q}$, such that

\begin{enumerate}
  \item $I x \leq x$;
  \item $I x = I^2 x$;
  \item $x \leq y \Rightarrow I x \leq I y$;
  \item $I x \cdot I y = I (I x \cdot I y)$.
\end{enumerate}

For unital quantale, we require that $I e = e$.
\end{defin}

Here and below, $I^2 x$ denotes $I (I x)$.

Note that, one may replace the last condition on the one $I x \cdot I y \leq I (x \cdot y)$. Thus, a quantic conuleus is the special case of lax monoidal monad from a category-theoretic point of view.

Let us define the special cases of quantic conuclei that it would be useful for our purpose:

\begin{defin}
$ $
\begin{enumerate}
  \item A quantic conucleus is called central, if for all
  $a, b \in \mathcal{Q}, \Box a \cdot b = b \cdot \Box a$.

  \item A quantic conucleus is called strong square-increasing,
  if for all $a, b \in \mathcal{Q}, \Box a \cdot b \leq \Box a \cdot b \cdot \Box a$ and
  $b \cdot \Box a \leq \Box a \cdot b \cdot \Box a$.

  \item A quantic conucleus is called unital, if $\forall a \in Q, \Box a \leq e$.
\end{enumerate}
\end{defin}

\begin{defin}
$ $

  We define a partial order on quantic conuclei on $\mathcal{Q}$ as
  $I_1 \leq I_2 \Leftrightarrow \forall a \in \mathcal{Q}, I_1 a \leq I_2 a$.
\end{defin}

Here we formulate and prove some techincal lemmas on quantic conuclei that we apply in the proof of soundness and completeness theorems:

\begin{lemma}
  $ $
  Let $\mathcal{Q}$ be a quantale. Let $I$, $I_1$, and $I_2$ be quantic conuclei. Thus, the following properties hold:
  \begin{enumerate}
  \item $I_1 a_1 \cdot I_2 a_2 \leq I (I_1 a_1 \cdot I_2 a_2)$, where $I_i \leq I, i = 1,2$.
  \item If $I$ is unital and weak idempotent, then $I$ is central.
  \item Let $S \subseteq \mathcal{Q}$ be a subquantale, then $I : \mathcal{Q} \to \mathcal{Q}$, such that $\Box a = \bigvee \{ s \in S \: | \: s \leq a \}$, is an open modality.
  \item Let $S_1$ and $S_2$ are subquantales such that $mathcal{S}_1 \subseteq \mathcal{S}_2 \subseteq \mathcal{Q}$. Then $\Box_{\mathcal{S}_1} (a) \leq \Box_{\mathcal{S}_1} (a)$.
  \end{enumerate}
\end{lemma}

\begin{proof}
$ $

\begin{enumerate}
  \item $I_1 a_1 \cdot I_2 a_2 \leq I_1 (I_1 a_1) \cdot I_2 (I_2 a_2) \leq I (I_1 a_1) \cdot I (I_2 a_2) \leq I (I_1 a_1 \cdot I_2 a_2)$
  \item $ $

    $\begin{array}{lll}
    & b \cdot I a \leq & \\
    & \:\:\:\:\:\: \text{Right strong square-increase}& \\
    &I a \cdot b \cdot I a \leq & \\
    & \:\:\:\:\:\: \text{Unitality}& \\
    & I a \cdot b \cdot e \leq & \\
    & \:\:\:\:\:\: \text{Identity}& \\
    &I a \cdot b \leq & \\
    & \:\:\:\:\:\: \text{Left strong square-increase}& \\
    &I a \cdot b \cdot I a \leq & \\
    & \:\:\:\:\:\: \text{Unitality}& \\
    &e \cdot b \cdot I a \leq & \\
    & \:\:\:\:\:\: \text{Identity}& \\
    &b \cdot I a&
    \end{array}$

  Hence, $b \cdot I a = I a \cdot b$, so for all $a \in \mathcal{Q}, I a \in \mathcal{Z}(\mathcal{Q})$.
  \item See Rosental.
  \item Immediately.
\end{enumerate}
\end{proof}

\begin{prop}
$ $

Let $\mathcal{Q}$ be a quantale and $\mathcal{S} \subseteq \mathcal{Q}$ a subquantale, then the following operations are open modalities:

\begin{enumerate}
  \item $I a = \bigvee \{ s \in S \: | \: s \leq a, s \in \mathcal{Z}(\mathcal{Q}) \}$ is a central quantic conucleus
  \item $I a = \bigvee \{ s \in S \: | \: s \leq a, s \leq \mathds{1} \}$ is an unital conucleus
  \item $I a = \bigvee \{ s \in S \: | \: s \leq a, \forall b \in Q, b \cdot s \vee s \cdot b \leq s \cdot b \cdot s\}$ is a generalised square-increasing quantic conucleus
  \item Operations with combinations of conditions above
\end{enumerate}
\end{prop}

\begin{proof}
  Immediately
\end{proof}

\begin{prop}
$ $
Let $\mathcal{Q}$ be a quantale, then:
\begin{enumerate}
  \item Let $I_1$ be a unital and generalised square-increasing and $I_2$ a central, then $\forall a \in \mathcal{Q}, I_1 a \leq I_2 a$
  \item If $I_1$ is GSI, unital, and central, $I_2$ is GSI and unital, then $\forall a \in \mathcal{Q}, I_1 a = I_2 a$
\end{enumerate}

\end{prop}

\begin{proof}
$ $

  \begin{enumerate}
    \item Follows from Lemma 1.2.
    \item The right inequation follows from the first of this lemma. The left inequation is obvious.
  \end{enumerate}
\end{proof}

We define a subexponential interpretation in quite sophisticatedly. Suppose we have a contravariant map from a given signature to the set of subquantales. Here, contravariance denotes that the stronger subexponential index (in sense of
preorder) maps to the weaker subquantale. The second one function maps a subquantale to its quantic conucleus according to
the previous proposition. We match the index pursuant to its subset. In other words, if $s \in W$, then the result of s
subexponential interpretation is an unital quantic conucleus, etc. More formally:

\begin{defin} Interpretation of subexponential signature

Let $\mathcal{Q}$ be a quantale and $\Sigma = \langle \mathcal{I}, \preceq, \mathcal{W}, \mathcal{C}, \mathcal{E} \rangle$
a subexponential signature. Let $S : \Sigma \to Sub(\mathcal{Q})$ be a contravariant map from this subexponential
signature to the set of subquantales of $\mathcal{Q}$ Thus, a subexponential interpretation is the map
$\sigma : \Sigma \to CN(\mathcal{Q})$, where $CN(\mathcal{Q})$ is the set of quantic conuclei on $\mathcal{Q}$, such that:

  $\sigma(s_i) = \begin{cases}
  I_i : \mathcal{Q} \to \mathcal{Q} \text{ s.t. } \forall a \in Q, \Box_i(a) = \{ s \in S_i \: | \: s \leq a\},
  \\ \:\:\:\: \text{if $s_i \notin W \cap C \cap E$} \\
  I_i : \mathcal{Q} \to \mathcal{Q} \text{ s.t. } \forall a \in Q, \Box_i(a) = \{ s \in S_i \: | \: s \leq a, s \leq \mathds{1}\},
  \\ \:\:\:\: \text{if $s_i \in W$} \\
  I_i : \mathcal{Q} \to \mathcal{Q} \text{ s.t. } \forall a \in Q, \Box_i(a) = \{ s \in S_i \: | \: s \leq a, s \in \mathcal{Z}(\mathcal{Q}) \},
  \\ \:\:\:\: \text{if $s_i \in E$} \\
  I_i : \mathcal{Q} \to \mathcal{Q} \text{ s.t. } \forall a \in Q, \Box_i(a) = \{ s \in S_i \: | \: s \leq a, \forall b, b \cdot s \vee s \cdot b \leq s \cdot b \cdot s \},
  \\ \:\:\:\: \text{if $s_i \in E$} \\
  \text{otherwise, if $s_i$ belongs to some intersection of subsets, then we combine the relevant conditions } \\
  \end{cases}$
\end{defin}

\begin{defin} Let $\mathcal{Q}$ be an unital quantale, $f : Tp \to \mathcal{Q}$ a valuation and $\sigma : I \to \Box_{\mathcal{Q}}$ a subexponential interpretation, then
  interpretation is defined inductively:

\begin{center}
$\begin{array}{lll}
& [\![p_i]\!] = f(p_i)&\\
& [\![\mathds{1}]\!] = e & \\
&[\![A \bullet B]\!] = [\![A]\!] \cdot [\![B]\!] & \\
&[\![A \backslash B]\!] = [\![A]\!] \backslash [\![B]\!] & \\
&[\![A / B]\!] = [\![A]\!] / [\![B]\!]& \\
&[\![A \& B]\!] = [\![A]\!] \wedge [\![B]\!]& \\
&[\![A \vee B]\!] = [\![A]\!] \vee [\![B]\!]& \\
&[\![!_{s_i} A]\!] = \sigma(s_i) [\![A]\!]&
\end{array}$
\end{center}
\end{defin}

\begin{defin}
  $\Gamma \models A \Leftrightarrow \forall f, \forall \sigma, [\![\Gamma]\!] \leq [\![A]\!]$
\end{defin}

An interpretation and an entailment relation are defined standardly via valuation map and subexponential interpretation.
The first of all, let us make sure that any subexponential interpretation is sound w.r.t the set of quantic conuclei $CN(\mathcal{Q})$ of the quantale $\mathcal{Q}$.


\begin{lemma}
  $ $

  Let $\Sigma$ be a subexponential signature and $\sigma : \Sigma \to CN(\mathcal{Q})$ for a contravariant map
  $S : \Sigma \to Sub(\mathcal{Q})$, then:
  \begin{enumerate}
  \item For all $s_1, s_2 \in \Sigma$, if $s_1 \preceq s_2$, then $\sigma(s_2) \leq \sigma(s_1)$.
  In other words, $\sigma$ is a contravariant functor from $\Sigma$ to $Sub(\mathcal{Q})$.
  \item $\sigma(A) = \{ \sigma(s) \: | \: s \in A \}$ is downwardly closed, where $A = \{ \mathcal{W}, \mathcal{C}, \mathcal{E} \}$.
  \item If $s \in \mathcal{W} \cap \mathcal{C}$, then $\sigma(s)$ is a central quantic conucleus.
\end{enumerate}
\end{lemma}

\begin{proof}
  $ $

  \begin{enumerate}
  \item Let $s_1, s_2 \in \Sigma$ and $s_1 \leq s_2$. Then $S(s_2) \subseteq S(s_1)$.
  So, $\forall a \in \mathcal{Q}, \bigvee \{ s \in S(s_2) \: | \: s \leq a \} \leq \bigvee \{ s \in S(s_1) \: | \: s \leq a \}$. Thus, $\sigma(s_2) \leq \sigma(s_1)$.
  \item Let $s_1 \in A$ and $s_1 \preceq s_2$. By the previous part, $\sigma(s_2) \leq \sigma(s_1)$. Suppose $\sigma(s_2) \notin \sigma(A)$, then $s_2 \notin A$. But $s_2 \in A$ so far as $A$ is upwardly closed. Contradiction.
  \item Let $s \in \mathcal{W} \cap \mathcal{C}$ and $a \in \mathcal{Q}$,
  then $\sigma(s)(a) = \bigvee \{ x \in S(s) \: | \: x \leq a, x \in \mathcal{Z}(\mathcal{Q}), \text{ and } \forall b \in \mathcal{Q}, (x \cdot b) \vee (b \cdot x) \leq x \cdot b \cdot x \}$. Thus, by Lemma, $\sigma(s)(a) \in \mathcal{Z}(\mathcal{Q})$.

\end{enumerate}
\end{proof}

There occur soundness and completeness theorems.

\begin{theorem}
$ $

  Let $\Sigma$ be a subexponential signature, then
  $SMALC_{\Sigma} \vdash \Gamma \rightarrow A \Rightarrow [\![\Gamma]\!] \leq [\![A]\!]$ for valuation map $f$ and for some subexponential interpretation $\sigma : \Sigma \to CN(\mathcal{Q})$.
\end{theorem}

\begin{proof}
  $ $

By the previous lemma, $\sigma$ is well-defined. Let us consider the case of polymodal promotion.

Let $!_{s_1} A_1, \dots, !_{s_n} A_n \rightarrow A$ and $\forall i, s \preceq s_i$. Then $\forall a \in Q, \sigma(s_i)(a) \leq \sigma(s)(a)$.

By IH, $\sigma(s_1)[\![A_1]\!] \cdot \dots \cdot \sigma(s_n) [\![A_n]\!] \leq [\![A]\!]$. Thus,
$\sigma(s)(\sigma(s_1)[\![A_1]\!] \cdot \dots \cdot \sigma(s_n) [\![A_n]\!]) \leq \sigma(s)([\![A]\!])$. By Lemma,
$\sigma(s_1)[\![A_1]\!] \cdot \dots \cdot \sigma(s_n) [\![A_n]\!] \leq \sigma(s)(\sigma(s_1)[\![A_1]\!] \cdot \dots \cdot
\sigma(s_n) [\![A_n]\!])$. \\
So, $\sigma(s_1)[\![A_1]\!] \cdot \dots \cdot \sigma(s_n) [\![A_n]\!] \leq \sigma(s)([\![A]\!])$.
\end{proof}

Now we prove completeness a la MacNeille completetion. As a matter of fact, we generalised the technique provided by Brown and Gurr for the polymodal case.

\begin{defin}
$ $

  Let $\mathcal{F} \subseteq Fm$, an ideal is a subset $\mathcal{I} \subseteq \mathcal{F}$, such that:

\begin{itemize}
  \item If $B \in \mathcal{I}$ and $A \rightarrow B$, then $A \in \mathcal{I}$;
  \item If $A, B \in \mathcal{I}$, then $A \lor B \in \mathcal{I}$.
\end{itemize}
\end{defin}

\begin{defin}
$ $

  Let $S \subseteq \mathcal{F} \subseteq Fm$,
  then $\bigvee S = \bigcap \{ \mathcal{I} \subseteq \mathcal{F} \: | \: S \subseteq \mathcal{I} \}$
\end{defin}

The following conditions hold similarly to \cite{Gurr}:

\begin{lemma}
$ $

  \begin{enumerate}
  \item $\bigvee S$ is an ideal;
  \item $A \subseteq Fm$, then $\{ B \: | \: B \rightarrow A \} = \bigvee \{ A \}$;
  \item $\bigvee \{ A \} \subseteq \bigvee \{ B \}$ iff $A \rightarrow B$;
  \item Let $\mathcal{Q} = \{ \bigvee S \: | \: S \subseteq Fm \}$ and $\bigvee \mathcal{A} \cdot \bigvee \mathcal{B} =
  \bigvee \{ A \bullet B \: | \: A \in \mathcal{A}, B \in \mathcal{B} \}$.
  Then $\langle \mathcal{Q}, \subseteq, \cdot, \bigvee{{\bf 1}}\rangle$ is a unital quantale.
  \end{enumerate}
\end{lemma}

We extend this construction for polymodal case as follows:

\begin{lemma}
  $ $

\begin{enumerate}
\item Let $!_s \in I$ and $A \mathcal{F}_{\Sigma}$, then $\Box_s (\bigvee \{ A \}) = \bigvee \{ !_s B \: | \: !_s B \rightarrow A \}$ is a quantic conucleus
\item Let $A \in \mathcal{F}_{\Sigma}$, then $\Box_s \bigvee \{ A \} = \bigvee \{ !_s A \}$, for each $s \in \mathcal{I}$
\item  Let $i, j \in I$ and $i \preceq j$, then for all $A \in \mathcal{F}_{\Sigma}$, $\Box_j (\bigvee \{ A \}) \subseteq \Box_i (\bigvee \{ A \})$.
\end{enumerate}

\end{lemma}

\begin{proof}
$ $

\begin{enumerate}
\item Similarly to [Yetter].
\item Let $A \in Fm$ and $s \in \mathcal{I}$.

Let $!_s B \in \Box_s \bigvee \{ A \}$, then $!_s B \rightarrow A$, then $!_s B \rightarrow !_s A$
by promotion. So, $!_s B \in \bigvee \{ !_s A \}$.

Let $C \in \bigvee \{ !_s A \}$, then $C \rightarrow !_s A$, so $!_s C \rightarrow !_s A$ by dereliction, but $!_s A \rightarrow A$, hence $!_s C \rightarrow A$ by cut. So, $!_s C \in \Box_s \bigvee \{ A \}$.
\item   Let $i, j \in I$ and $i \preceq j$, then forall $A \in \mathcal{F}_{\Sigma}$, $!_j A \rightarrow !_i A$ by promotion.
  Then $\bigvee \{ !_j A \} \subseteq \bigvee \{ !_i A \}$, so $\Box_j (\bigvee \{ A \}) \subseteq \Box_i (\bigvee \{ A \})$.
\end{enumerate}
\end{proof}

\begin{lemma}
$ $

For all $A \in \mathcal{F}_{\Sigma}$,
  \begin{enumerate}
    \item Let $s \in W$, then $\Box_s \{ A \} \subseteq \{ {\bf 1} \}$;
    \item Let $s \in E$, then $\Box_s (\bigvee \{ A \}) \cdot \bigvee \{ B \} = \bigvee \{ B\} \cdot \Box_s (\bigvee \{ A \})$.
    \item Let $s \in C$, then $(\Box_s \bigvee A \cdot \bigvee B) \cup (\bigvee B \cdot \Box_s \bigvee A) \subseteq \Box_s \bigvee A \cdot \bigvee B \cdot \Box_s \bigvee A$, for all $B \subseteq Fm$.
  \end{enumerate}
\end{lemma}

\begin{proof}
$ $

\begin{enumerate}
  \item Follows from $!_s A \rightarrow {\bf 1}$, so $s \in W$;
  \item Follows from $!_s A \bullet B \leftrightarrow B \bullet !_s A$;
  \item Follows from $!_s A \bullet B \rightarrow !_s A \bullet B \bullet !_s A$ and similarly for $B \bullet !_s A$.
\end{enumerate}
\end{proof}

\begin{defin}
$ $

Let $\mathcal{Q}$ be a syntactic quantale defined above and $\mathcal{I} = \langle \mathcal{I}, \preceq,
\mathcal{W}, \mathcal{C}, \mathcal{E} \rangle$ be a subexponential signature.

We define a map $\Box : \mathcal{I} \to Mod_{\mathcal{Q}}$ as follows:

$\Box(i)(\bigvee \{ A \} ) = \{ !_i B \: | !_i B \rightarrow A \}$.
\end{defin}

\begin{lemma} $\Box$ is a subexponential interpretation.
\end{lemma}

\begin{proof}
  Follows from lemmas above.
\end{proof}

\begin{lemma}
$ $

  Let $Q$ be a quantale constructed above and $(\Box_{s_i})_{s_i \in \Sigma}$ be a family of quantic conuclei on $Q$.
  Then there exist a model $\langle Q, [\![.]\!]\rangle$, such that $[\![A]\!] = \bigvee \{ A \}$, $A \in Fm$.
\end{lemma}

\begin{proof}
$ $

  We define an interpreation as follows:

\begin{enumerate}
  \item $[\![p_i]\!] = \bigvee \{ p_i \}$
  \item $[\![{\bf 1}]\!] = \bigvee \{ {\bf 1} \}$
  \item $[\![A \bullet B]\!] = \bigvee \{ A \bullet B \}$
  \item $[\![A / B]\!] = \bigvee \{ A / B \}$
  \item $[\![B \setminus A]\!] = \bigvee \{ B \setminus A \}$
  \item $[\![A \& B ]\!] = \bigvee \{ A \& B \}$
  \item $[\![A \lor B]\!] = \bigvee \{ A \lor B\}$
  \item $[\![!_s A]\!] = \Box(s) (\bigvee \{ A \}) = \bigvee \{ !_s A \}$.
\end{enumerate}
\end{proof}

\begin{theorem}
  $\Gamma \models A \Rightarrow \Gamma \rightarrow A$.
\end{theorem}

\begin{proof}
  Follows from lemmas above.
\end{proof}

\begin{comment}

\section{Categorical part}

\begin{defin} Monoidal comonad
  $ $

  A monoidal comonad on some monoidal category $\mathcal{C}$ is a triple $\langle \mathcal{F}, \epsilon, \delta \rangle$,
  where $\mathcal{F}$ is a monoidal endofunctor and $\epsilon : \mathcal{F} \Rightarrow Id_{\mathcal{C}}$ (counit) and $\epsilon : \mathcal{F} \Rightarrow \mathcal{F}^2$ (comultiplication),
  such that the following diagrams commute:

\begin{minipage}{0.45\textwidth}
\begin{small}
\xymatrix{
\mathcal{F}A \otimes \mathcal{F}B \ar[dd]_{\delta_A \otimes \delta_B} \ar[r]^{\phi_{A,B}} & \mathcal{F}(A \otimes B) \ar[dr]^{\delta_{A \otimes B}} \\
&& \mathcal{F}\mathcal{F}(A \otimes B) \\
\mathcal{F}\mathcal{F}A \otimes \mathcal{F}\mathcal{F}B \ar[r]_{\phi_{\mathcal{F}A, \mathcal{F}B}} & \mathcal{F}(\mathcal{F}A \otimes \mathcal{F}B) \ar[ur]_{\mathcal{F}(\phi_{A,B})}
}
\end{small}
\end{minipage}%
\hfill
\begin{minipage}{0.5\textwidth}
\begin{tabular}{p{\textwidth}}
\xymatrix{
\mathcal{F}A \otimes \mathcal{F}B \ar[rr]^{\phi_{A,B}} \ar[dr]_{\epsilon_A \otimes \epsilon_B} && \mathcal{F}(A \otimes B) \ar[dl]^{\epsilon_{A \otimes B}} \\
& A \otimes B &
}
\end{tabular}
\end{minipage}%

\xymatrix{
&&&&&&& \mathds{1} \ar[r]^{\phi} \ar[d]_{\phi} & \mathcal{F}\mathds{1} \ar[d]^{\delta_{\mathds{1}}} \\
&&&&&&& \mathcal{F}\mathds{1} \ar[r]_{\mathcal{F}(\phi)} & \mathcal{F}\mathcal{F}\mathds{1}
}

\xymatrix{
&&&&&&& \mathds{1} \ar[dr]_{\phi} \ar[rr]^{id_{\mathds{1}}} && \mathds{1}\\
&&&&&&&& \mathcal{F}\mathds{1} \ar[ur]_{\epsilon_{\mathds{1}}} &
}
\end{defin}

\begin{defin} Biclosed monoidal category

  Let $\mathcal{C}$ be a monoidal category. Biclosed monoidal category is a monoidal category with the following additional data:
  \begin{enumerate}
    \item Bifunctors $\underline{\quad} \multimapinv \underline{\quad}, \underline{\quad} \multimap \underline{\quad} : \mathcal{C}^{op} \times \mathcal{C} \to \mathcal{C}$;
    \item Natural isomophism ${\bf curry}_{A,B,C} : Hom (A \otimes B, C) \cong (B, A \multimap C)$;
    \item Natural isomophism ${\bf curry}^{'}_{A,B,C} : Hom (A \otimes B, C) \cong (A, C \multimap B)$;
    \item For each $A, B \in Ob_{\mathcal{C}}$, there are exist arrows $ev_{A,B} : A \otimes (A \Rightarrow B) \rightarrow B$ and $ev_{A,B}^{'} : (B \Leftarrow A) \otimes A \rightarrow B$,
    such that for all $f : A \otimes C \rightarrow B$:
      \begin{enumerate}
        \item $\Lambda_l \circ (id_A \otimes {\bf curry}(f)) = f$;
        \item $\Lambda_r \circ ({\bf curry}^{'}(f) \otimes id_A) = f$
      \end{enumerate}
  \end{enumerate}
\end{defin}

\begin{defin}
  Let $F$ be endofunctor and $A \in Ob\mathcal{C}$, then a coalgebra of $F$ is a tuple $\langle A, \theta \rangle$, where $\theta : A \to F A$.
\end{defin}

Given coalgebras $\langle A, \theta \rangle$ and $\langle A, \psi \rangle$, a homomorphism is a morphism $f : A \to B$, s.t. the diagram below commutes:

\xymatrix{
&&&&&& A \ar[dd]_{f} \ar[rr]^{\theta} && F A \ar[dd]^{F f} \\
\\
&&&&&& B \ar[rr]_{\psi} && F B
}
that is, $F f \circ \theta = \psi \circ f$

\begin{defin} Subexponential model structure

  Let $\Sigma = \langle I, \preceq, W, C, E \rangle$ be a subexponential signature and $\mathcal{C}$ be a biclosed monoidal category,
  then a subexponential model structure is $\langle \mathcal{C}, \{ \mathcal{F}_{s} \}_{s \in I} \rangle$ with the following additional data:

\begin{itemize}
  \item for all $s \in I$, $\mathcal{F}_s$ is a monoidal comonad;
  \item if $s \in W$, then for all $A \in Ob(\mathcal{C})$, there exists a morphism ${w_{A}}_{s} : F_s A \to \mathds{1}$;
  \item if $s \in C$, then for all $A \in Ob(\mathcal{C})$, there exists morphisms
${w_{A}}_{l} : F_s A \otimes A \otimes F_s A \to F_s A \otimes B$ and ${w_{A}}_{r} : F_s A \otimes A \otimes F_s A \to B \otimes F_s A$;
  \item if $s \in E$, then for all $A \in Ob(\mathcal{C})$, there is an isomorpism, ${e_A} : F_s A \otimes B \cong B \otimes F_s A$;
  \item if $s_1 \in W$, $s_2 \in I$ and $s_1 \preceq s_2$, then there is a morphism ${w_{A}}_{s_2} : F_{s_2} A \to \mathds{1}$ for all $A \in Ob(\mathcal{C})$ and ditto for $E$ and $C$;
  \item Let $\bigotimes_{s \in J, i = 0}^{n} F_{s} A$, where $J \subset I$, and $s^{'} \in I$, s.t. $s \succeq s^{'}$ for all $s \in I'$;
  Then there exists morphism a morphism $\theta_{\bigotimes_{s \in J, i = 1}^{n} {F_{s}}_j A_i} : \bigotimes_{s \in J, i = 0}^{n} F_{s} A \to F_{s^{'}} (\bigotimes_{s \in J, i = 0}^{n} F_{s} A)$, such that
  $\langle \bigotimes_{s \in J, i = 1}^{n} {F_{s}}_j A_i, \theta_{\bigotimes_{s \in J, i = 1}^{n} {F_{s}}_j A_i} \rangle$ is a coalgebra on $F_s$.
\end{itemize}
\end{defin}

\begin{defin}
  Let $\langle \mathcal{C}, \{ \mathcal{F}_{s} \}_{s \in I} \rangle$ be a subexponential model structure
  for subexponential signature $\Sigma = \langle I, \preceq, W, C, E \rangle$.
  Let $v : Tp \to Ob(\mathcal{C})$ be a valuation map. Then the interpretation function $[\![.]\!]$ is defined as follows:

$\begin{array}{lll}
(1) &[\![{\bf 1}]\!] = \mathds{1}& \\
(2) &[\![A \backslash B]\!] = [\![A]\!] \multimap [\![B]\!]& \\
(3) &[\![A / B]\!] = [\![A]\!] \multimapinv [\![B]\!]& \\
(4) &[\![A \bullet B]\!] = [\![A]\!] \otimes [\![B]\!]&\\
(5) &[\![!_{s} A]\!] = F_s [\![A]\!]& \\
\end{array}$
\end{defin}

\begin{theorem} The following statements are equivalent:

  \begin{itemize}
    \item $SMLC_{\Sigma} + (cut) \vdash \Gamma \Rightarrow A$
    \item $SMLC_{\Sigma} \vdash \Gamma \Rightarrow A$
    \item $\exists f, f : [\![\Gamma]\!] \rightarrow [\![A]\!]$
  \end{itemize}
\end{theorem}

\begin{proof}
  \begin{itemize}
$ $

    \item (1) $\Rightarrow$ (2): cut elimination.
    \item (2) $\Rightarrow$ (3): Soundness:

\begin{prooftree}
  \AxiomC{$f : \Gamma \otimes A \otimes \Delta \rightarrow B$}
  \UnaryInfC{$f \circ (id_{\Gamma} \otimes \delta_s^{A} \otimes id_{\Delta}) : \Gamma \otimes F_s A \otimes \Delta \rightarrow B$}
\end{prooftree}

\begin{prooftree}
  \AxiomC{$f : F_{s_1} A_1 \otimes \dots \otimes F_{s_n} A_n \rightarrow B$}
  \UnaryInfC{$F_s(f) : F_s(F_{s_1} A_1 \otimes \dots \otimes F_{s_n} A_n) \rightarrow F_s B$}
  \UnaryInfC{$F_s (f) \circ \theta_{\bigotimes_{s \in J, i = 1}^{n} {F_{s}}_j A_i} : F_{s_1} A_1 \otimes \dots \otimes F_{s_n} A_n \rightarrow F_s B$}
\end{prooftree}

\begin{prooftree}
  \AxiomC{$f : \Gamma \otimes \Delta \rightarrow A$}
  \UnaryInfC{$f \circ (\rho_{\Gamma} \otimes id_{\Delta}) : (\Gamma \otimes \mathds{1}) \otimes \Delta \rightarrow A$}
  \UnaryInfC{$f \circ (\rho_{\Gamma} \otimes id_{\Delta}) \circ (id_{\Gamma} \otimes {w_{A}}_{s}) \otimes id_{\Delta} : (\Gamma \otimes F_s A) \otimes \Delta \rightarrow A$}
\end{prooftree}

\begin{prooftree}
  \AxiomC{$f : \Gamma \otimes (F_s A \otimes B \otimes F_s A) \otimes \Delta \rightarrow C$}
  \UnaryInfC{$f \circ (id_{\Gamma} \otimes {c_A}_{s}^l \otimes id_{\Delta}) : \Gamma \otimes (F_s A \otimes B) \otimes \Delta \rightarrow C$}
\end{prooftree}

\begin{prooftree}
  \AxiomC{$f : \Gamma \otimes (F_s A \otimes B \otimes F_s A) \otimes \Delta \rightarrow C$}
  \UnaryInfC{$(id_{\Gamma} \otimes {c_A}_{s}^r \otimes id_{\Delta}) \circ f: \Gamma \otimes (B \otimes F_s A) \otimes \Delta \rightarrow C$}
\end{prooftree}

\begin{prooftree}
  \AxiomC{$f : \Gamma \otimes (\Delta \otimes F_s A) \otimes \Theta \rightarrow B$}
  \UnaryInfC{$(id_{\Gamma} \otimes (id_{\Delta} \otimes {e_A}_{s}) \otimes id_{\Theta}) \circ f: \Gamma \otimes (F_s A \otimes \Delta) \otimes \Theta \rightarrow B$}
\end{prooftree}

\begin{prooftree}
  \AxiomC{$f : \Gamma \otimes (F_s A \otimes \Delta) \otimes \Theta \rightarrow B$}
  \UnaryInfC{$(id_{\Gamma} \otimes (id_{\Delta} \otimes {e_A}_{s}^{-1}) \otimes id_{\Theta}) \circ f: \Gamma \otimes (\Delta \otimes F_s A) \otimes \Theta \rightarrow B$}
\end{prooftree}

    \item Completeness:

\begin{defin}
\end{defin}

  \end{itemize}
\end{proof}

\end{comment}

\section{Relational semantics}

\begin{defin}
  $ $

  Let $A$ be a set. Then relational quantale on $A$ is a triple $\mathcal{Q} = \langle \mathcal{A}, \bigvee, \mathcal{I}
  \rangle$ where $\mathcal{A} \subseteq 2^{A \times A}$:

  \begin{itemize}
    \item $\langle \mathcal{A}, \bigvee, \subseteq \rangle$ is a complete semi-lattice;
    \item Multiplication is defined as
      $R \circ S = \{ \langle a, c \rangle \: | \: \exists b \in A, \langle a, b \rangle \in R \text{ and } \langle b, c \rangle \in S\}$
    \item $\langle \mathcal{A}, \circ, \mathcal{I} \rangle$ is a monoid;
    \item For each indexing set $J$, $R \circ \bigvee_{i \in I} S_i = \bigvee_{i \in I} (R \circ S_i)$ and
      $\bigvee_{i \in I} R_i \circ S = \bigvee_{i \in I}(R_i \circ S)$.
  \end{itemize}
\end{defin}

\begin{lemma}
  $ $

  Let $\mathcal{Q} = \langle A, \leq, \cdot, \bigvee \rangle$ be a unital quantale and $\mathcal{S}$ is a subquantale of $\mathcal{Q}$.

  Then $\langle \mathcal{Q}, I_{\mathcal{S}} \rangle$ is isomorphic to some relational quantale of $A$
  with some quantic conucleus $\hat{I}$, where $I_{\mathcal{S}}$ is a quantic conclues on $\mathcal{S}$.
\end{lemma}

\begin{proof}
$ $

  Consider a relational quantale proposed by Brown and Gurr.

  This quantale is 4-tuple $\theta(\mathcal{Q}) = \langle \mathcal{R}, \subseteq, \circ, \bigvee \rangle$ defined as follows:
  \begin{enumerate}
    \item $\theta(a) = \{ \langle b, c \rangle \: | \: b \leq a \cdot c \}$;
    \item $\theta(a \cdot b) = \theta(a) \circ \theta(b)$;
    \item $\theta(\bigvee \limits_{i \in I} a_i) = \bigvee \limits_{i \in I} \theta(a_i)$;
    \item $\theta(\varepsilon) = \{ \langle b, c \rangle \: | \: b \cdot \varepsilon \leq c \} = \{ \langle b, c \rangle \: | \: b \leq c \}$
  \end{enumerate}

  Let $\mathcal{S} \subseteq \mathcal{Q}$, so $\Box_{\mathcal{S}} a := \bigvee \{ s \: | \: s \in S, s \leq a \}$ is quantic conucleus.

  So, $\theta(S) \subseteq \theta(\mathcal{Q})$ is a subquantale of $\theta(\mathcal{Q})$.

  Let us define $\hat{\Box} \theta(a) := \bigvee \{ \theta(s) \: | \: \theta(s) \in \theta(S), \theta(s) \subseteq \theta(a) \}$, so

  $\begin{array}{lll}
  &\theta(\Box_{\mathcal{S}} a) = \{ \langle p, q \rangle \: | \: p \leq \Box_{\mathcal{S}} a \cdot q \} = &\\
  &\{ \langle p, q \rangle \: | \: p \leq \bigvee \{ s \: | \: s \in \mathcal{S}, s \leq a \} \cdot q \} = &\\
  &\:\:\:\: \text{Homomorphism}& \\
  &\theta(\bigvee_{s \in S, s \leq a} s) = & \\
  &\:\:\:\: \text{Homomorphism preserves sups}& \\
  &\bigvee_{s \in S, s \leq a} \theta(s) = & \\
  &\:\:\:\: \text{Unfolding}& \\
  &\bigvee \{ \theta(s) \: | \: s \in S, s \leq a \} = & \\
  &\:\:\:\: \text{Unfolding}& \\
  &\bigvee \{ \theta(s) \: | \: \theta(s) \in \theta(S), \theta(s) \subseteq \theta(a) \} = \hat{\Box} \theta(a)& \\
  \end{array}$

Thus, $\hat{\Box} \theta(a) = \theta(\Box_{\mathcal{S}} a)$.

\end{proof}

\begin{theorem}
  Let $\mathfrak{Q} = \langle \mathcal{Q}, I \rangle$ be a quantale with
  quantic conucleus. Then $\mathfrak{Q}$ is isomorphic to relational quantale on $Q$ with some conucleus.
\end{theorem}

\begin{proof}
  Let $I$ be a quantic conucleus. Then $\mathcal{Q}_{I} = \{ a \in \mathcal{Q} \: | \: I(a) = a \}$ is a subquantale of $\mathcal{Q}$.

  Let us define $I'(a) = \bigvee \{ s \in \mathcal{Q}_{I} \: | \: s \leq a \}$.

  It is clear that $I'$ is a quantic conucleus. Let us show that for all
  $a \in \mathcal{Q}$ $I(a) = I'(a)$.

  $\begin{array}{lll}
  & I'(a) = \bigvee \{ s \in \mathcal{Q}_{I} \: | \: s \leq a \} = & \\
  & \bigvee \{ s \in \mathcal{Q}_{I} \: | \: I(s) \leq a \} = & \\
  & \bigvee \{ s \in \mathcal{Q}_{I} \: | \: I(s) \leq I(a) \} \leq I(a)&
  \end{array}$

  On the other hand, $I(a) \leq a$. So $I(a) \leq \bigvee \{ s \in \mathcal{Q}_{I} \: | \: s \leq a \} = I'(a)$, so far as $I(a) \in \{ s \in \mathcal{Q}_{I} \: | \: s \leq a \}$.

  Thus, we showed that $I(a) = I'(a)$. One need to apply the previous statement with conucleus $I'$.
\end{proof}

\section{Syntactic concept lattices}

\begin{defin}
  Let $\mathcal{L}$ be a finite alphabet and $L \subseteq \mathcal{L}^{*}$ be a language.

  We define maps $[.]^{\triangleright} : \mathcal{P}(\mathcal{L}^{*}) \to \mathcal{P}(\mathcal{L}^{*} \times \mathcal{L}^{*})$
  and $[.]^{\triangleleft} : \mathcal{P}(\mathcal{L}^{*} \times \mathcal{L}^{*}) \to \mathcal{P}(\mathcal{L}^{*})$ as follows:

  \begin{enumerate}
    \item $M \subseteq \mathcal{L}^{*}$, $M^{\triangleright} = \{ (x, y) \: | \: \forall w \in M, x w y \in L \}$
    \item $C \subseteq \mathcal{L}^{*} \times \mathcal{L}^{*}$, $C^{\triangleleft} = \{ w \: | \: \forall (x, y) \in C, x w y
    \in L\}$
  \end{enumerate}
\end{defin}

Note that compositions $[.]^{\triangleleft \triangleright}$ and $[.]^{\triangleright \triangleleft}$ form closure operators,
by the way $[.]^{\triangleleft}$ and $[.]^{\triangleright}$ are connected via contravariant Galois connection.

\begin{defin} A syntactic concept is a pair $\langle S, C \rangle$, where $S \subseteq \mathcal{L}^{*}$
  and $C \subseteq \mathcal{L}^{*} \times \mathcal{L}^{*}$, such that $S^{\triangleright} = C$ and $C^{\triangleleft} = S$.
\end{defin}

Following to Wurm, by the concept we mean a closed set of strings, that is, $A$ is a concept iff $A \triangleright
\triangleleft = A$. Moreover, $\langle \mathcal{B}_{\mathcal{L}}, \bigvee, \bigwedge \rangle$, where
$\mathcal{B}_{\mathcal{L}}$ is the set of $\triangleright \triangleleft$-closed subsets of $\mathcal{L}^{*}$.

We define a product of concepts as $A \circ B = (A \cdot B)^{\triangleright \triangleleft} = \{ a b \: | \: a \in A, b \in B \}^{\triangleright \triangleleft}$.

Residuals are defined explicitly as follows:

\begin{center}
  $A \backslash B = \{ (a B, b) \: | \: (a, b) \in A^{\triangleright} \}^{\triangleleft}$

  $B / A = \{ (a, B b) \: | \: (a, b) \in A^{\triangleright} \}^{\triangleleft}$
\end{center}

It is easy to see that the following condition hold for that residuals:

\begin{center}
  $A \backslash B = \bigvee \{ C \: | \: A \circ C \leq B \}$

  $B / A = \bigvee \{ C \: | \: C \circ A \leq B \}$
\end{center}

\begin{defin}
  The syntax concept lattice of a language $L$ is a structure $\langle \mathcal{B}_{L}, \circ, \bigvee, \bigwedge, /, \backslash \rangle$,
  where $\mathcal{B}_{L}$  is the set of $[.]^{\triangleright \triangleleft}$-closed subsets of $\mathcal{L}^{*}$.
\end{defin}

\section{Thanks}

Author would like to thank Lev Beklemishev, Giuseppe Greco, Stepan Kuznetsov, Jean-Francois Mascari, Fedor Pakhomov, Danyar Shamkanov, and Andre Scedrov for advice, critique, and comments.

\addcontentsline{toc}{section}{References}

\begin{thebibliography}{}

  \bibitem{Ajdukiewicz} Ajdukiewicz

  \bibitem{Bar} Bar-Hillel

  \bibitem{Lambek} Lambek

  \bibitem{Wilde} Wilde
\end{thebibliography}

\end{document}
